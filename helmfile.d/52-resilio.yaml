# Gogs, Resilio Sync and Samba ===========================================================

# NOTE: cli args take precedence over these
helmDefaults:
  wait: true
  timeout: 600
  recreatePods: true
  force: true

releases:
  - name: resilio
    namespace: services
    chart: ../charts/resilio
    values:
    - image:
        repository: {{ env "RESILIO_REPOSITORY" | default "resilio/sync" }}
        tag: {{ env "RESILIO_REPOSITORY_TAG" | default "latest" }}
    - volumes:
        - name: yasr-volume
          persistentVolumeClaim:
            claimName: yasr-volume
        - name: main-volume
          persistentVolumeClaim:
            claimName: main-volume
    - volumeMounts:
      - name: yasr-volume
        mountPath: "/mnt/sync"
        subPath: "configs/resilio"
      - name: main-volume
        mountPath: "/mnt/mounted_folders/"
        subPath: "btsync"
