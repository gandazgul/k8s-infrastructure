releases:
# STORAGE ===============================================

#  # Yet Another SR, this is a volume for all configs
#  - name: yasr-volume-pv
#    namespace: services
#    chart: ./charts/persistence-volume
#    values:
#      - volumeName: yasr-volume
#      - storage: 4Ti
#      - storageClass: hdd
#      - path: /media/yasr
#      - nodeHostname: {{ requiredEnv "MASTER_NODE_NAME" }}
#
#  # This is the main source of storage
#  - name: main-volume-pv
#    namespace: services
#    chart: ./charts/persistence-volume
#    values:
#      - volumeName: main-volume
#      - storage: 4Ti
#      - storageClass: hdd
#      - path: /media/main
#      - nodeHostname: {{ requiredEnv "MASTER_NODE_NAME" }}
#
#  # This is the backup volume for main and some of the stuff in yasr (I know the math doesnt work but I'm on a budget)
#  - name: backup-volume-pv
#    namespace: services
#    chart: ./charts/persistence-volume
#    values:
#      - volumeName: backup-volume
#      - storage: 4Ti
#      - storageClass: hdd
#      - path: /media/backup
#      - nodeHostname: {{ requiredEnv "MASTER_NODE_NAME" }}
#
#  - name: yasr-volume
#    namespace: services
#    chart: ./charts/pvc
#    values:
#      - storageClass: hdd
#      - volumeName: yasr-volume
#      - storage: 2Ti
#
#  - name: main-volume
#    namespace: services
#    chart: ./charts/pvc
#    values:
#      - storageClass: hdd
#      - volumeName: main-volume
#      - storage: 4Ti
#
#  - name: backup-volume
#    namespace: services
#    chart: ./charts/pvc
#    values:
#      - storageClass: hdd
#      - volumeName: backup-volume
#      - storage: 4Ti

# SERVICES =================================

#  - name: filebrowser
#    namespace: services
#    chart: ./charts/filebrowser
#    values:
#      - volumes:
#          - name: yasr-volume
#            persistentVolumeClaim:
#              claimName: yasr-volume
#          - name: main-volume
#            persistentVolumeClaim:
#              claimName: main-volume
#          - name: backup-volume
#            persistentVolumeClaim:
#              claimName: backup-volume
#      - volumeMounts:
#          - name: yasr-volume
#            mountPath: "/srv/YASR"
#          - name: main-volume
#            mountPath: "/srv/main"
#          - name: backup-volume
#            mountPath: "/srv/backup"
#      - service:
#          type: NodePort
#          port: 8080

#  - name: plex
#    namespace: services
#    chart: ../kube-plex/charts/kube-plex
#    values:
#      - image:
#          tag: plexpass
#      - timezone: America/New_York
#      - persistence:
#          transcode:
#            enabled: true
#          config:
#            claimName: yasr-volume
#            subPath: "configs/plex"
#          data:
#            claimName: main-volume
#            subPath: "public"
#      - helm-configs/ipaddress.yaml

#  - name: seedbox
#    namespace: services
#    chart: ./charts/seedbox
#    values:
#      - env:
#        - name: LOCAL_NETWORK
#          value: "10.244.0.0/16"
#        - name: OPENVPN_USERNAME
#          value: {{ requiredEnv "OPENVPN_USERNAME" }}
#        - name: OPENVPN_PASSWORD
#          value: {{ requiredEnv "OPENVPN_PASSWORD" }}
#        - name: TRANSMISSION_RPC_USERNAME
#          value: "transmission"
#        - name: TRANSMISSION_RPC_PASSWORD
#          value: {{ requiredEnv "TRANSMISSION_RPC_PASSWORD" }}
##        - name: TRANSMISSION_PEER_PORT
##          value: "44444"
#        - name: TRANSMISSION_RPC_AUTHENTICATION_REQUIRED
#          value: "true"
#        - name: TRANSMISSION_BLOCKLIST_ENABLED
#          value: "true"
#        - name: TRANSMISSION_BLOCKLIST_URL
#          value: "http://list.iblocklist.com/?list=bt_level1&fileformat=p2p&archiveformat=gz"
#        - name: TRANSMISSION_INCOMPLETE_DIR_ENABLED
#          value: "true"
#        - name: TRANSMISSION_INCOMPLETE_DIR
#          value: "/data/downloading"
#        - name: TRANSMISSION_HOME
#          value: "/data"
#        - name: TRANSMISSION_DOWNLOAD_DIR
#          value: "/data/downloads"
#        - name: PUID
#          value: "1000"
#        - name: PGID
#          value: "1000"
#        - name: TRANSMISSION_ENCRYPTION
#          value: "2"
#        - name: TRANSMISSION_IDLE_SEEDING_LIMIT
#          value: "120"
#        - name: TRANSMISSION_IDLE_SEEDING_LIMIT_ENABLED
#          value: "true"
##         fix container so that these are not needed
#        - name: TRANSMISSION_PEER_CONGESTION_ALGORITHM
#          value: "\"\""
#        - name: TRANSMISSION_RPC_HOST_WHITELIST
#          value: "\"\""
#        - name: TRANSMISSION_SCRIPT_TORRENT_DONE_FILENAME
#          value: "\"\""
#        - name: MAIL_TO
#          value: {{ requiredEnv "MAIL_TO" }}
#      - volumes:
#        - name: yasr-volume
#          persistentVolumeClaim:
#            claimName: yasr-volume
#        - name: dev-tun
#          hostPath:
#            path: "/dev/net/tun"
#      - volumeMounts:
#        - name: yasr-volume
#          mountPath: "/data"
#          subPath: "transmission"
#        - name: yasr-volume
#          mountPath: "/config"
#          subPath: "configs/"
#        - name: dev-tun
#          mountPath: "/dev/net/tun"
#        - name: yasr-volume
#          mountPath: "/etc/ssmtp/"
#          subPath: "configs/ssmtp"

#  - name: resilio
#    namespace: services
#    chart: ./charts/resilio
#    values:
#      - volumes:
#        - name: yasr-volume
#          persistentVolumeClaim:
#            claimName: yasr-volume
#        - name: main-volume
#          persistentVolumeClaim:
#            claimName: main-volume
#      - volumeMounts:
#        - name: yasr-volume
#          mountPath: "/mnt/sync"
#          subPath: "configs/resilio"
#        - name: main-volume
#          mountPath: "/mnt/mounted_folders/"
#          subPath: "btsync"

#  - name: gogs
#    namespace: services
#    chart: ./charts/gogs
#    version: 0.6.0
#    values:
#      - persistence:
#          claimName: yasr-volume
#          subPath: "configs/gogs/site_data"
#      - postgresql:
#          persistence:
#              existingClaim: yasr-volume
#              subPath: "configs/gogs/db"
#      - helm-configs/gogs.yaml

#  - name: sshd
#    namespace: services
#    chart: ./charts/sshd
#    values:
#      - volumes:
#        - name: main-volume
#          persistentVolumeClaim:
#            claimName: main-volume
#      - volumeMounts:
#        - name: main-volume
#          mountPath: "/home"

#  - name: samba
#    namespace: services
#    chart: ./charts/samba
#    values:
#      - hostNetwork: true
#      - volumes:
#          - name: yasr-volume
#            persistentVolumeClaim:
#              claimName: yasr-volume
#          - name: main-volume
#            persistentVolumeClaim:
#              claimName: main-volume
#      - volumeMounts:
#          - name: yasr-volume
#            mountPath: "/etc/samba/"
#            subPath: "configs/samba/"
##          - name: yasr-volume
#          - name: main-volume
#            mountPath: "/shared"
#      - env:
#          - name: IMPORT
#            value: "/etc/samba/smbpasswd"
#          - name: TZ
#            value: "EST5EDT"

# MONITORING =================================================

#  https://github.com/giantswarm/kubernetes-prometheus
# heapster?
# grafana - prometheus was no gathering data on kubernetes

# CRON JOBS ==================================================

# EXAMPLE: Every minute output the date
#  - name: example
#    namespace: services
#    chart: ./charts/cronjob
#    values:
#      - schedule: "*/1 * * * *"
#      - image:
#          repository: busybox
#          tag: latest
#          pullPolicy: IfNotPresent
#          command:
#            - /bin/sh
#            - -c
#            - date

#  - name: size-checker
#    namespace: services
#    chart: ./charts/cronjob
#    values:
#      # Sunday at 1:00am
#      - schedule: "0 1 * * 0"
#      - image:
#          repository: gandazgul/size-checker
#          tag: v3
#      - volumes:
#          - name: yasr-volume
#            persistentVolumeClaim:
#              claimName: yasr-volume
#          - name: main-volume
#            persistentVolumeClaim:
#              claimName: main-volume
#      - volumeMounts:
#          - name: yasr-volume
#            mountPath: "/etc/ssmtp/"
#            subPath: "configs/ssmtp/"
#          - name: main-volume
#            mountPath: "/hdd"
#      - env:
#          - name: MAIL_TO
#            value: {{ requiredEnv "MAIL_TO" }}

#  - name: incremental-backups
#    namespace: services
#    chart: ./charts/cronjob
#    values:
##       Every hour
#      - schedule: "0 */1 * * *"
#      - image:
#          repository: gandazgul/rdiff-backup
#          tag: v2
#      - volumes:
#          - name: main-volume
#            persistentVolumeClaim:
#              claimName: main-volume
#          - name: backup-volume
#            persistentVolumeClaim:
#              claimName: backup-volume
#      - volumeMounts:
#          - name: main-volume
#            mountPath: "/media/main"
#          - name: backup-volume
#            mountPath: "/media/backup"

