---
apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: main-volume
  namespace: default
spec:
  interval: 5m
  chart:
    spec:
      chart: persistence-volume
      version: '0.2.2'
      sourceRef:
        kind: HelmRepository
        name: gandazgul
        namespace: flux-system
      interval: 1m
  values:
    volumeName: main-volume
    storage: 4Ti
    storageClass: hdd
    path: /media/main
    createStorageClass: true
---
apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: backup-volume
  namespace: default
spec:
  interval: 5m
  chart:
    spec:
      chart: persistence-volume
      version: '0.2.2'
      sourceRef:
        kind: HelmRepository
        name: gandazgul
        namespace: flux-system
      interval: 1m
  values:
    volumeName: backup-volume
    storage: 4Ti
    storageClass: hdd
    path: /media/backup
    createStorageClass: false # main already created it
---
apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: yasr-volume
  namespace: default
spec:
  interval: 5m
  chart:
    spec:
      chart: persistence-volume
      version: '0.2.2'
      sourceRef:
        kind: HelmRepository
        name: gandazgul
        namespace: flux-system
      interval: 1m
  values:
    volumeName: yasr-volume
    storage: 4Ti
    storageClass: hdd
    path: /media/yasr
    createStorageClass: false # main already created it
