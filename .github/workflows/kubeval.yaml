name: Verify charts against k8s API Schema

kubeval-chart:
  runs-on: ubuntu-latest
  needs:
  - helm-lint
  strategy:
    matrix:
      k8s:
      - v1.18.0
      - v1.18.1
  steps:
  - name: Checkout
    uses: actions/checkout@v1
  - name: Run kubeval
    env:
      KUBERNETES_VERSION: ${{ matrix.k8s }}
    run: .github/kubeval.sh
